// =============================================================================
// Concept-based Tag Definitions
// 컨셉별 스타일 태그 (AI 추천 실패 시 폴백 + 기본 데이터)
// 11 concepts × 30 tags (20 conceptTags + 10 recommendedTags)
// =============================================================================

export interface ConceptTagSet {
  conceptTags: string[];      // 20 core tags (material, silhouette, color, accessory, mood)
  recommendedTags: string[];  // 10 complementary / unexpected tags
}

export const CONCEPT_TAG_MAP: Record<string, ConceptTagSet> = {
  cyber: {
    conceptTags: [
      "홀로그래픽 소재", "크롬 메탈릭", "네온 라이팅", "PVC 하네스",
      "LED 악세서리", "미러 텍스처", "구조적 숄더", "사이버 고글",
      "글리치 패턴", "실버 부츠", "레이저 컷 패널", "반사 원단",
      "디지털 프린트", "와이어 프레임", "메탈 메쉬", "네오프렌 소재",
      "홀로그램 코팅", "실버 체인메일", "LED 스트립", "크롬 링 이어링",
    ],
    recommendedTags: [
      "투명 레이어드", "로봇 아머", "UV 반응 원단", "3D 프린팅 주얼리",
      "바이오닉 글러브", "프리즘 렌즈", "전자 회로 모티프", "안테나 헤드피스",
      "퀀텀 그라데이션", "부유하는 숄더패드",
    ],
  },

  y2k: {
    conceptTags: [
      "로우라이즈 팬츠", "크롭탑", "버터플라이 클립", "글리터 아이섀도",
      "미니스커트", "플랫폼 슈즈", "비즈 목걸이", "타이다이 프린트",
      "벨벳 트랙수트", "핑크 퍼 트림", "홀로그램 백", "메쉬 레이어",
      "체리 모티프", "사이버 선글라스", "진주 초커", "스팽글 탑",
      "젤리 슈즈", "비닐 미니백", "스트링 비키니 탑", "글리터 바디",
    ],
    recommendedTags: [
      "별 모양 귀걸이", "투명 폰케이스", "헤어 집게핀", "립글로스 무드",
      "나비 자수", "베이비핑크 팔레트", "크로셰 탑", "플라워 스티커",
      "디스코 볼 이어링", "크리스탈 뷔스티에",
    ],
  },

  highteen: {
    conceptTags: [
      "테니스 스커트", "니트 조끼", "리본 타이", "체크 패턴",
      "플리츠 스커트", "파스텔 컬러", "새틴 리본", "레이스 칼라",
      "캔버스 스니커즈", "카디건 레이어", "블루밍 플라워", "스트로베리 프린트",
      "글로시 립", "펄 버튼", "소프트 데님", "레터맨 재킷",
      "폼폼 이어링", "하트 패치", "셔링 블라우스", "베이비 블루",
    ],
    recommendedTags: [
      "체리 프린트", "미니 리본 핀", "코듀로이 팬츠", "세일러 칼라",
      "레몬 체크", "니삭스", "토트백", "캔디 팔찌",
      "플라워 자수 카디건", "라벤더 오간자",
    ],
  },

  sexy: {
    conceptTags: [
      "코르셋 탑", "시어 패브릭", "슬릿 드레스", "레이스 보디수트",
      "새틴 슬립", "스틸레토 힐", "골드 체인", "딥 브이넥",
      "벨벳 쵸커", "시퀸 드레스", "레드 립스틱 무드", "블랙 레더 글러브",
      "메탈릭 네일", "백리스 디자인", "실크 로브", "크리스탈 보디체인",
      "피쉬넷 스타킹", "골드 앵클릿", "컷아웃 디테일", "글로우 스킨",
    ],
    recommendedTags: [
      "스모키 실루엣", "레드 카펫 무드", "미드나잇 블루", "럭셔리 새틴",
      "다이아몬드 초커", "블랙 시퀸 케이프", "와인 벨벳", "골드 태슬",
      "오프숄더 가운", "크리스탈 힐",
    ],
  },

  suit: {
    conceptTags: [
      "더블 브레스트", "오버사이즈 블레이저", "와이드 팬츠", "핀스트라이프",
      "새틴 라펠", "타이 넥", "테일러드 핏", "커프스 버튼",
      "로퍼 슈즈", "모노크롬 블랙", "크롭 재킷", "파워 숄더",
      "벨벳 수트", "컬러 블로킹 슈트", "체인 브로치", "턱시도 스트라이프",
      "실크 셔츠", "페이턴트 옥스포드", "슬림 타이", "구조적 코트",
    ],
    recommendedTags: [
      "골드 커프링크", "더블 벤트", "프렌치 커프", "스탠드 칼라",
      "새빌로 핏", "벨벳 보타이", "메탈릭 블레이저", "수트 베스트",
      "몬드리안 패턴", "스모킹 재킷",
    ],
  },

  street: {
    conceptTags: [
      "오버사이즈 후디", "카고 팬츠", "청키 스니커즈", "그래피티 프린트",
      "레이어드 룩", "비니", "크로스바디 백", "워싱 데님",
      "나일론 윈드브레이커", "스트릿 로고", "밀리터리 디테일", "패치워크",
      "네온 액센트", "메쉬 패널", "유틸리티 벨트", "스케이트 팬츠",
      "슬라우치 비니", "체인 월렛", "밴드 프린트 티", "하이탑 스니커즈",
    ],
    recommendedTags: [
      "그런지 체크", "타이거 프린트", "버킷햇", "데님 온 데님",
      "스터드 벨트", "오버다이 컬러", "파라코드 팔찌", "쓰레드 팬츠",
      "플리스 집업", "네오 스포츠",
    ],
  },

  girlcrush: {
    conceptTags: [
      "레더 재킷", "스터드 디테일", "블랙 하네스", "플랫폼 부츠",
      "체인 벨트", "크롭 코르셋", "핫팬츠", "스모키 아이",
      "피셔넷 스타킹", "시퀸 브라탑", "불꽃 모티프", "메탈 스파이크",
      "블러디 레드", "파워 글러브", "컴뱃 부츠", "레더 미니스커트",
      "바이커 체인", "크롬 초커", "지퍼 디테일", "블랙 밴디지",
    ],
    recommendedTags: [
      "뱀피 레드립", "블랙 네일", "스컬 링", "페이크 타투",
      "다크 레이스", "에나멜 소재", "고딕 크로스", "래틱스 소재",
      "핀 디테일", "블랙 위도우",
    ],
  },

  elegant: {
    conceptTags: [
      "오간자 드레스", "페어리 윙", "플로럴 크라운", "시폰 레이어",
      "파스텔 튤", "펄 장식", "레이스 케이프", "새틴 리본",
      "엠브로이더리", "크리스탈 티아라", "플라워 자수", "소프트 글리터",
      "나비 브로치", "실버 앵클릿", "백합 모티프", "오로라 원단",
      "시어 가운", "베이비 핑크", "무지개 그라데이션", "이슬 비즈",
    ],
    recommendedTags: [
      "날개 하네스", "문스톤 주얼리", "이리데슨트 코팅", "안개 효과",
      "트랜슬루센트 패널", "플로팅 패브릭", "밤하늘 자수", "은하수 프린트",
      "요정 부츠", "다이아몬드 더스트",
    ],
  },

  dark: {
    conceptTags: [
      "올블랙 레이어드", "고딕 초커", "벨벳 케이프", "스터드 부츠",
      "십자가 펜던트", "레이스업 코르셋", "다크 레드 립", "체인메일",
      "스파이더 웹", "가죽 암렛", "본 링", "블랙 크라운",
      "라텍스 글러브", "버클 하네스", "레이븐 페더", "바로크 패턴",
      "블러드문 컬러", "아이언 브레이슬릿", "빅토리안 칼라", "다크 벨벳",
    ],
    recommendedTags: [
      "성당 스테인드글라스", "타로 모티프", "가시 왕관", "뱀 팔찌",
      "독 체인", "블랙 앤젤 윙", "퍼플 포이즌", "해골 자수",
      "그림자 레이스", "미드나잇 블랙",
    ],
  },

  retro: {
    conceptTags: [
      "빈티지 데님", "레트로 선글라스", "도트 패턴", "벨보텀 팬츠",
      "70s 칼라", "디스코 볼", "레코드 프린트", "코듀로이 재킷",
      "체크 셔츠", "빈티지 스카프", "레트로 운동화", "하이웨이스트",
      "폴라로이드 무드", "브라운 레더", "골드 프레임", "플라워 파워",
      "사이키델릭 프린트", "빈티지 브로치", "뉴트로 팔레트", "클래식 트렌치",
    ],
    recommendedTags: [
      "8트랙 이어링", "아날로그 워치", "레트로 점프수트", "올드스쿨 버클",
      "빈티지 카메오", "60s 고고부츠", "모드 미니", "플리마켓 무드",
      "타이프라이터 프린트", "LP 재킷 패턴",
    ],
  },

  balletcore: {
    conceptTags: [
      "튤 스커트", "새틴 코르셋", "리본 레이스업", "포인트 슈즈",
      "시폰 레이어", "파스텔 핑크", "레오타드 탑", "메쉬 스타킹",
      "펄 장식", "발레 랩스커트", "오프숄더 가운", "새틴 리본",
      "엠브로이더리", "소프트 글리터", "베이비 핑크", "오간자 드레스",
      "크리스탈 티아라", "실크 슬리퍼", "플로럴 크라운", "레이스 칼라",
    ],
    recommendedTags: [
      "토슈즈 앵클릿", "백스테이지 무드", "발레리나 번", "튤 케이프",
      "프렌치 핑크", "스완레이크 모티프", "시어 보디수트", "새틴 쵸커",
      "파스텔 그라데이션", "미니 티아라",
    ],
  },

  darkromance: {
    conceptTags: [
      "고딕 레이스", "벨벳 코르셋", "빅토리안 칼라", "블랙 케이프",
      "십자가 펜던트", "다크 레드 립", "레이스업 부츠", "시어 가운",
      "벨벳 쵸커", "바로크 패턴", "블러디 레드", "블랙 크라운",
      "레이븐 페더", "가시 왕관", "퍼플 포이즌", "올블랙 레이어드",
      "슬릿 드레스", "새틴 글러브", "오간자 베일", "블러드문 컬러",
    ],
    recommendedTags: [
      "로즈 자수", "캔들라이트 무드", "빈티지 브로치", "블랙 로즈",
      "성당 스테인드글라스", "다크 벨벳", "뱀파이어 칼라", "와인 새틴",
      "문라이트 실루엣", "블랙 레이스 베일",
    ],
  },

  neohanbok: {
    conceptTags: [
      "모던 저고리", "구조적 숄더", "한복 리본", "금박 자수",
      "실크 치마", "오방색 컬러", "고름 디테일", "전통 문양",
      "한지 텍스처", "자개 장식", "갓 모티프", "비단 원단",
      "배자 레이어", "옥색 팔레트", "자수 패턴", "노리개 악세서리",
      "두루마기 실루엣", "댕기 리본", "금사 자수", "매듭 장식",
    ],
    recommendedTags: [
      "LED 금박", "네온 오방색", "투명 갓", "퓨처 저고리",
      "메탈릭 고름", "3D 프린팅 비녀", "홀로그램 자개", "서울 스카이라인",
      "해금 모티프", "크롬 노리개",
    ],
  },

  luxesport: {
    conceptTags: [
      "테일러드 트랙재킷", "테크니컬 패브릭", "실크 패널", "프리미엄 스니커즈",
      "지퍼 디테일", "로고 테이프", "슬림 조거", "네오프렌 소재",
      "메쉬 레이어", "모노크롬 블랙", "파워 숄더", "골드 체인",
      "스포츠 선글라스", "유틸리티 벨트", "나일론 윈드브레이커", "컬러 블로킹 슈트",
      "카고 포켓", "하이탑 스니커즈", "크롭 재킷", "메탈릭 네일",
    ],
    recommendedTags: [
      "카본 텍스처", "F1 모티프", "야광 파이핑", "실버 버클",
      "하이테크 장갑", "퍼포먼스 니트", "에어로 핏", "럭셔리 더플백",
      "셔링 트랙팬츠", "테크웨어 고글",
    ],
  },

  military: {
    conceptTags: [
      "밀리터리 재킷", "카모플라주 패턴", "에폴렛 숄더", "카키 컬러",
      "전투 부츠", "카고 포켓", "탄띠 벨트", "아미 패치",
      "파일럿 선글라스", "항공 점퍼", "더블 버클", "스트랩 디테일",
      "밀리터리 베레", "독태그 목걸이", "네이비 코트", "브라스 버튼",
      "워크 부츠", "캔틴 백", "카키 팬츠", "전술 조끼",
    ],
    recommendedTags: [
      "컴패스 브로치", "서바이벌 코드", "파라슈트 팬츠", "레이더 프린트",
      "워타임 빈티지", "에비에이터 재킷", "다크 올리브", "탱크 모티프",
      "메달 장식", "카무플라주 메쉬",
    ],
  },
};

// Tags that are inappropriate for boygroup concepts
const GIRL_ONLY_TAGS = new Set([
  "미니스커트", "레더 미니스커트", "코르셋 탑", "크롭 코르셋", "새틴 코르셋",
  "벨벳 코르셋", "레이스업 코르셋", "레이스 보디수트", "시어 보디수트",
  "새틴 슬립", "슬릿 드레스", "오간자 드레스", "오프숄더 가운", "시어 가운",
  "피셔넷 스타킹", "피쉬넷 스타킹", "메쉬 스타킹", "핫팬츠",
  "딥 브이넥", "백리스 디자인", "컷아웃 디테일", "시퀸 브라탑",
  "크리스탈 보디체인", "글로우 스킨", "글리터 바디",
  "튤 스커트", "발레 랩스커트", "레오타드 탑", "포인트 슈즈", "실크 슬리퍼",
  "발레리나 번", "스완레이크 모티프", "토슈즈 앵클릿",
  "테니스 스커트", "플리츠 스커트", "셔링 블라우스",
  "플로럴 크라운", "크리스탈 티아라", "미니 티아라", "페어리 윙",
  "리본 타이", "새틴 리본", "댕기 리본",
  "스트링 비키니 탑", "크리스탈 뷔스티에",
  "스틸레토 힐", "크리스탈 힐", "젤리 슈즈",
]);

/** Get tags for a given concept, filtered by idol type */
export function getConceptTags(conceptId: string, idolType?: string): ConceptTagSet {
  const raw = CONCEPT_TAG_MAP[conceptId];
  if (!raw) return { conceptTags: [], recommendedTags: [] };

  // Only boygroup gets filtered — girlgroup has no restrictions
  if (idolType !== "boygroup") return raw;

  return {
    conceptTags: raw.conceptTags.filter((t) => !GIRL_ONLY_TAGS.has(t)),
    recommendedTags: raw.recommendedTags.filter((t) => !GIRL_ONLY_TAGS.has(t)),
  };
}
